(function (d3) {
  'use strict';

  const colorLegend = (selection, props) => {
    const {
      colorScale,
      circleRadius,
      spacing,
      textOffset,
      onClick,
      selectedStateValue
    } = props;

    const groups = selection.selectAll('g')
      .data(colorScale.domain());
    const groupsEnter = groups
      .enter().append('g')
        .attr('class', 'tick');
    groupsEnter
      .merge(groups)
        .attr('transform', (d, i) =>
          `translate(0, ${i * spacing})`
        )
    		.attr('opacity', d => 
          (!selectedStateValue || d === selectedStateValue)
            ? 1
            : 0.2
        )
    		.on('click', d => onClick(
      		d === selectedStateValue
    				? null
    				: d
    		));
      
    groups.exit().remove();

    groupsEnter.append('circle')
      .merge(groups.select('circle'))
        .attr('r', circleRadius)
        .attr('fill', colorScale);

    groupsEnter.append('text')
      .merge(groups.select('text'))
        .text(d => d)
        .attr('dy', '0.32em')
        .attr('x', textOffset);
  };

  const svg = d3.select('svg');

  const width = +svg.attr('width');
  const height = +svg.attr('height');

  const render = data => {
    const title = 'Reviews per state and day of a year';
    
    const xValue = d => d.day;
    const xAxisLabel = 'Days';
    
    const yValue = d => d.review;
    const yAxisLabel = 'No. of Reviews';
    
    const colorValue = d => d.state;
    
    const margin = { top: 60, right: 180, bottom: 100, left: 150 };
    const innerWidth = width - margin.left - margin.right;
    const innerHeight = height - margin.top - margin.bottom;
    
    const xScale = d3.scaleLinear()
      .domain(d3.extent(data, xValue))
      .range([0, innerWidth]);
    
    const yScale = d3.scaleLinear()
      .domain(d3.extent(data, yValue))
      .range([innerHeight, 0])
      .nice();
    
    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);
    
    const g = svg.append('g')
      .attr('transform', `translate(${margin.left},${margin.top})`);
    
    const xAxis = d3.axisBottom(xScale)
      .tickSize(-innerHeight)
      .tickPadding(15);
    
    const yAxis = d3.axisLeft(yScale)
      .tickSize(-innerWidth)
      .tickPadding(10);
    
    const yAxisG = g.append('g').call(yAxis);
    yAxisG.selectAll('.domain').remove();
    
    yAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', -95)
        .attr('x', -innerHeight / 2)
        .attr('fill', 'black')
        .attr('transform', `rotate(-90)`)
        .attr('text-anchor', 'middle')
        .text(yAxisLabel);
    
    const xAxisG = g.append('g').call(xAxis)
      .attr('transform', `translate(0,${innerHeight})`);
    
    xAxisG.select('.domain').remove();
    
    xAxisG.append('text')
        .attr('class', 'axis-label')
        .attr('y', 70)
        .attr('x', innerWidth / 2)
        .attr('fill', 'black')
        .text(xAxisLabel);
    
    let selectedStateValue;
    
    const onClick = d => {
      selectedStateValue = d;
    };
    
    const lineGenerator = d3.line()
    	.x(d => xScale(xValue(d)))
    	.y(d => yScale(yValue(d)))
    	.curve(d3.curveBasis);
    
    const lastYValue = d => 
    	yValue(d.values[d.values.length -1]);
    
    const nested = d3.nest()
    	.key(colorValue)
    	.entries(data)
    	.sort((a,b) => 
            d3.descending(lastYValue(a), lastYValue(b)));
    
    colorScale.domain(nested.map(d => d.key));
    
    g.selectAll('.line-path').data(nested)
    	.enter().append('path')
    		.attr('class', 'line-path')
    		.attr('d', d => lineGenerator(d.values))
    		.attr('stroke', d => colorScale(d.key))
    	.append('title')
    		.text(d => 'No. of reviews of ' + d.key + ': ' + d.values[0].review);

    g.append('text')
        .attr('class', 'title')
        .attr('y', -10)
        .text(title);

    svg.append('g')
        .attr('transform', `translate(800,120)`)
        .call(colorLegend, {
          colorScale,
          circleRadius: 10,
          spacing: 25,
          textOffset: 14,
      		onClick,
      		selectedStateValue
        });
  };
    
  	/*svg.call(zoom().on('zoom', () => {
      g.attr('transform', event.transform);
   	}));*/
  	
     

  d3.csv('https://vizhub.com/Resl411/datasets/new-states.csv')
    .then(data => {
      data.forEach(d => {
        d.review = +d.review;
        d.day = +d.day;       
      });
      render(data);
    });

}(d3));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL2NvbG9yTGVnZW5kLmpzIiwiLi4vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbG9yTGVnZW5kID0gKHNlbGVjdGlvbiwgcHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIGNvbG9yU2NhbGUsXG4gICAgY2lyY2xlUmFkaXVzLFxuICAgIHNwYWNpbmcsXG4gICAgdGV4dE9mZnNldCxcbiAgICBvbkNsaWNrLFxuICAgIHNlbGVjdGVkU3RhdGVWYWx1ZVxuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgZ3JvdXBzID0gc2VsZWN0aW9uLnNlbGVjdEFsbCgnZycpXG4gICAgLmRhdGEoY29sb3JTY2FsZS5kb21haW4oKSk7XG4gIGNvbnN0IGdyb3Vwc0VudGVyID0gZ3JvdXBzXG4gICAgLmVudGVyKCkuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aWNrJyk7XG4gIGdyb3Vwc0VudGVyXG4gICAgLm1lcmdlKGdyb3VwcylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT5cbiAgICAgICAgYHRyYW5zbGF0ZSgwLCAke2kgKiBzcGFjaW5nfSlgXG4gICAgICApXG4gIFx0XHQuYXR0cignb3BhY2l0eScsIGQgPT4gXG4gICAgICAgICghc2VsZWN0ZWRTdGF0ZVZhbHVlIHx8IGQgPT09IHNlbGVjdGVkU3RhdGVWYWx1ZSlcbiAgICAgICAgICA/IDFcbiAgICAgICAgICA6IDAuMlxuICAgICAgKVxuICBcdFx0Lm9uKCdjbGljaycsIGQgPT4gb25DbGljayhcbiAgICBcdFx0ZCA9PT0gc2VsZWN0ZWRTdGF0ZVZhbHVlXG4gIFx0XHRcdFx0PyBudWxsXG4gIFx0XHRcdFx0OiBkXG4gIFx0XHQpKTtcbiAgICBcbiAgZ3JvdXBzLmV4aXQoKS5yZW1vdmUoKTtcblxuICBncm91cHNFbnRlci5hcHBlbmQoJ2NpcmNsZScpXG4gICAgLm1lcmdlKGdyb3Vwcy5zZWxlY3QoJ2NpcmNsZScpKVxuICAgICAgLmF0dHIoJ3InLCBjaXJjbGVSYWRpdXMpXG4gICAgICAuYXR0cignZmlsbCcsIGNvbG9yU2NhbGUpO1xuXG4gIGdyb3Vwc0VudGVyLmFwcGVuZCgndGV4dCcpXG4gICAgLm1lcmdlKGdyb3Vwcy5zZWxlY3QoJ3RleHQnKSlcbiAgICAgIC50ZXh0KGQgPT4gZClcbiAgICAgIC5hdHRyKCdkeScsICcwLjMyZW0nKVxuICAgICAgLmF0dHIoJ3gnLCB0ZXh0T2Zmc2V0KTtcbn0iLCJpbXBvcnQge1xuICBzZWxlY3QsXG4gIGNzdixcbiAgc2NhbGVMaW5lYXIsXG4gIHNjYWxlVGltZSxcbiAgc2NhbGVPcmRpbmFsLFxuICBleHRlbnQsXG4gIGF4aXNMZWZ0LFxuICBheGlzQm90dG9tLFxuICBsaW5lLFxuICBjdXJ2ZUJhc2lzLFxuICBmb3JtYXQsXG4gIG5lc3QsXG4gIHNjaGVtZUNhdGVnb3J5MTAsXG4gIGRlc2NlbmRpbmcsXG4gIHpvb20sXG4gIGV2ZW50XG59IGZyb20gJ2QzJztcblxuaW1wb3J0IHsgY29sb3JMZWdlbmQgfSBmcm9tICcuL2NvbG9yTGVnZW5kJztcblxuY29uc3Qgc3ZnID0gc2VsZWN0KCdzdmcnKTtcblxuY29uc3Qgd2lkdGggPSArc3ZnLmF0dHIoJ3dpZHRoJyk7XG5jb25zdCBoZWlnaHQgPSArc3ZnLmF0dHIoJ2hlaWdodCcpO1xuXG5jb25zdCByZW5kZXIgPSBkYXRhID0+IHtcbiAgY29uc3QgdGl0bGUgPSAnUmV2aWV3cyBwZXIgc3RhdGUgYW5kIGRheSBvZiBhIHllYXInO1xuICBcbiAgY29uc3QgeFZhbHVlID0gZCA9PiBkLmRheTtcbiAgY29uc3QgeEF4aXNMYWJlbCA9ICdEYXlzJztcbiAgXG4gIGNvbnN0IHlWYWx1ZSA9IGQgPT4gZC5yZXZpZXc7XG4gIGNvbnN0IHlBeGlzTGFiZWwgPSAnTm8uIG9mIFJldmlld3MnO1xuICBcbiAgY29uc3QgY29sb3JWYWx1ZSA9IGQgPT4gZC5zdGF0ZTtcbiAgXG4gIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiA2MCwgcmlnaHQ6IDE4MCwgYm90dG9tOiAxMDAsIGxlZnQ6IDE1MCB9O1xuICBjb25zdCBpbm5lcldpZHRoID0gd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgY29uc3QgaW5uZXJIZWlnaHQgPSBoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgXG4gIGNvbnN0IHhTY2FsZSA9IHNjYWxlTGluZWFyKClcbiAgICAuZG9tYWluKGV4dGVudChkYXRhLCB4VmFsdWUpKVxuICAgIC5yYW5nZShbMCwgaW5uZXJXaWR0aF0pO1xuICBcbiAgY29uc3QgeVNjYWxlID0gc2NhbGVMaW5lYXIoKVxuICAgIC5kb21haW4oZXh0ZW50KGRhdGEsIHlWYWx1ZSkpXG4gICAgLnJhbmdlKFtpbm5lckhlaWdodCwgMF0pXG4gICAgLm5pY2UoKTtcbiAgXG4gIGNvbnN0IGNvbG9yU2NhbGUgPSBzY2FsZU9yZGluYWwoc2NoZW1lQ2F0ZWdvcnkxMCk7XG4gIFxuICBjb25zdCBnID0gc3ZnLmFwcGVuZCgnZycpXG4gICAgLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHttYXJnaW4ubGVmdH0sJHttYXJnaW4udG9wfSlgKTtcbiAgXG4gIGNvbnN0IHhBeGlzID0gYXhpc0JvdHRvbSh4U2NhbGUpXG4gICAgLnRpY2tTaXplKC1pbm5lckhlaWdodClcbiAgICAudGlja1BhZGRpbmcoMTUpO1xuICBcbiAgY29uc3QgeUF4aXMgPSBheGlzTGVmdCh5U2NhbGUpXG4gICAgLnRpY2tTaXplKC1pbm5lcldpZHRoKVxuICAgIC50aWNrUGFkZGluZygxMCk7XG4gIFxuICBjb25zdCB5QXhpc0cgPSBnLmFwcGVuZCgnZycpLmNhbGwoeUF4aXMpO1xuICB5QXhpc0cuc2VsZWN0QWxsKCcuZG9tYWluJykucmVtb3ZlKCk7XG4gIFxuICB5QXhpc0cuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzLWxhYmVsJylcbiAgICAgIC5hdHRyKCd5JywgLTk1KVxuICAgICAgLmF0dHIoJ3gnLCAtaW5uZXJIZWlnaHQgLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGByb3RhdGUoLTkwKWApXG4gICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcbiAgICAgIC50ZXh0KHlBeGlzTGFiZWwpO1xuICBcbiAgY29uc3QgeEF4aXNHID0gZy5hcHBlbmQoJ2cnKS5jYWxsKHhBeGlzKVxuICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsJHtpbm5lckhlaWdodH0pYCk7XG4gIFxuICB4QXhpc0cuc2VsZWN0KCcuZG9tYWluJykucmVtb3ZlKCk7XG4gIFxuICB4QXhpc0cuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzLWxhYmVsJylcbiAgICAgIC5hdHRyKCd5JywgNzApXG4gICAgICAuYXR0cigneCcsIGlubmVyV2lkdGggLyAyKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxuICAgICAgLnRleHQoeEF4aXNMYWJlbCk7XG4gIFxuICBsZXQgc2VsZWN0ZWRTdGF0ZVZhbHVlO1xuICBcbiAgY29uc3Qgb25DbGljayA9IGQgPT4ge1xuICAgIHNlbGVjdGVkU3RhdGVWYWx1ZSA9IGQ7XG4gICAgcmVuZGVyKCk7XG4gIH07XG4gIFxuICBjb25zdCByZW5kZXIgPSAoKSA9PiB7XG4gIFx0XG4gIH07XG4gIFxuICBjb25zdCBsaW5lR2VuZXJhdG9yID0gbGluZSgpXG4gIFx0LngoZCA9PiB4U2NhbGUoeFZhbHVlKGQpKSlcbiAgXHQueShkID0+IHlTY2FsZSh5VmFsdWUoZCkpKVxuICBcdC5jdXJ2ZShjdXJ2ZUJhc2lzKTtcbiAgXG4gIGNvbnN0IGxhc3RZVmFsdWUgPSBkID0+IFxuICBcdHlWYWx1ZShkLnZhbHVlc1tkLnZhbHVlcy5sZW5ndGggLTFdKTtcbiAgXG4gIGNvbnN0IG5lc3RlZCA9IG5lc3QoKVxuICBcdC5rZXkoY29sb3JWYWx1ZSlcbiAgXHQuZW50cmllcyhkYXRhKVxuICBcdC5zb3J0KChhLGIpID0+IFxuICAgICAgICAgIGRlc2NlbmRpbmcobGFzdFlWYWx1ZShhKSwgbGFzdFlWYWx1ZShiKSkpO1xuICBcbiAgY29sb3JTY2FsZS5kb21haW4obmVzdGVkLm1hcChkID0+IGQua2V5KSk7XG4gIFxuICBnLnNlbGVjdEFsbCgnLmxpbmUtcGF0aCcpLmRhdGEobmVzdGVkKVxuICBcdC5lbnRlcigpLmFwcGVuZCgncGF0aCcpXG4gIFx0XHQuYXR0cignY2xhc3MnLCAnbGluZS1wYXRoJylcbiAgXHRcdC5hdHRyKCdkJywgZCA9PiBsaW5lR2VuZXJhdG9yKGQudmFsdWVzKSlcbiAgXHRcdC5hdHRyKCdzdHJva2UnLCBkID0+IGNvbG9yU2NhbGUoZC5rZXkpKVxuICBcdC5hcHBlbmQoJ3RpdGxlJylcbiAgXHRcdC50ZXh0KGQgPT4gJ05vLiBvZiByZXZpZXdzIG9mICcgKyBkLmtleSArICc6ICcgKyBkLnZhbHVlc1swXS5yZXZpZXcpO1xuXG4gIGcuYXBwZW5kKCd0ZXh0JylcbiAgICAgIC5hdHRyKCdjbGFzcycsICd0aXRsZScpXG4gICAgICAuYXR0cigneScsIC0xMClcbiAgICAgIC50ZXh0KHRpdGxlKTtcblxuICBzdmcuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDgwMCwxMjApYClcbiAgICAgIC5jYWxsKGNvbG9yTGVnZW5kLCB7XG4gICAgICAgIGNvbG9yU2NhbGUsXG4gICAgICAgIGNpcmNsZVJhZGl1czogMTAsXG4gICAgICAgIHNwYWNpbmc6IDI1LFxuICAgICAgICB0ZXh0T2Zmc2V0OiAxNCxcbiAgICBcdFx0b25DbGljayxcbiAgICBcdFx0c2VsZWN0ZWRTdGF0ZVZhbHVlXG4gICAgICB9KTtcbn07XG4gIFxuXHQvKnN2Zy5jYWxsKHpvb20oKS5vbignem9vbScsICgpID0+IHtcbiAgICBnLmF0dHIoJ3RyYW5zZm9ybScsIGV2ZW50LnRyYW5zZm9ybSk7XG4gXHR9KSk7Ki9cblx0XG4gICBcblxuY3N2KCdodHRwczovL3Zpemh1Yi5jb20vUmVzbDQxMS9kYXRhc2V0cy9uZXctc3RhdGVzLmNzdicpXG4gIC50aGVuKGRhdGEgPT4ge1xuICAgIGRhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgIGQucmV2aWV3ID0gK2QucmV2aWV3O1xuICAgICAgZC5kYXkgPSArZC5kYXk7ICAgICAgIFxuICAgIH0pO1xuICAgIHJlbmRlcihkYXRhKTtcbiAgfSk7Il0sIm5hbWVzIjpbInNlbGVjdCIsInNjYWxlTGluZWFyIiwiZXh0ZW50Iiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkxMCIsImF4aXNCb3R0b20iLCJheGlzTGVmdCIsImxpbmUiLCJjdXJ2ZUJhc2lzIiwibmVzdCIsImRlc2NlbmRpbmciLCJjc3YiXSwibWFwcGluZ3MiOiI7OztFQUFPLE1BQU0sV0FBVyxHQUFHLENBQUMsU0FBUyxFQUFFLEtBQUssS0FBSztJQUMvQyxNQUFNO01BQ0osVUFBVTtNQUNWLFlBQVk7TUFDWixPQUFPO01BQ1AsVUFBVTtNQUNWLE9BQU87TUFDUCxrQkFBa0I7S0FDbkIsR0FBRyxLQUFLLENBQUM7O0lBRVYsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7T0FDcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLE1BQU0sV0FBVyxHQUFHLE1BQU07T0FDdkIsS0FBSyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztTQUNqQixJQUFJLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzNCLFdBQVc7T0FDUixLQUFLLENBQUMsTUFBTSxDQUFDO1NBQ1gsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDO1VBQ3RCLENBQUMsYUFBYSxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQy9CO09BQ0YsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1VBQ2QsQ0FBQyxDQUFDLGtCQUFrQixJQUFJLENB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