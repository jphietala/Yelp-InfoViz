// Global functionsvar weekdays_data = [];var selected = {'first': {'state': 'NV', 'cuisine': 'Diners'}, 'second': {'state': 'ON', 'cuisine': 'Diners'}};// Load Data// All data loaded hered3.csv('data/weekdays.csv').then(data => {    weekdays_data = data;    //console.log("loaded this", weekdays_data);    whenLoaded();});function selectIdiom(state = "", cuisine = "") {    // Set new selected:    if (selected.first === selected.second){    }else {        selected.second = selected.first;        selected.first = {'state': state, 'cuisine': cuisine};    }    // Histogram    // Line Chart    // Radar Chart    selected.first.weekdays = getFromWeekdays(selected.first);    updateRadarChart([selected.first.weekdays, selected.second.weekdays]);}function whenLoaded() {    selected.first.weekdays = getFromWeekdays(selected.first);    selected.second.weekdays = getFromWeekdays(selected.second);    //console.log("selected",selected)    updateRadarChart()}function getFromWeekdays(sel){    let week_data = weekdays_data.forEach(function (data) {        eval(data.weekdays)    });    if (sel.state !== ''){        week_data = weekdays_data.filter(function(d){ return d.state === sel.state })            }    let weekdays_revs = eval(week_data.weekdays);    if (sel.cuisine !== ''){        weekdays_revs = eval(week_data.filter(function(d){ return d.cuisine === sel.cuisine })[0].weekdays)    }    if (weekdays_revs.length > 1){        // Sum over all instances    }    return [selected.first.state + " - " + selected.first.cuisine, weekdays_revs]}